





              TODO: image of narc





                        ____ _____ _______   ____
                       /    \\__  \\_  __ \_/ ___\
                      |   |  \/ __ \|  | \/\  \___
                      |___|  (____  /__|    \___  >
                           \/     \/            \/


= About

Provisioner of a warden shell and also injector of warden shell commands.


= Usage

  PUB task.start

    Provisions a task on the given narc server.

    Payload: {"task":"(task id)","secure_token":"(secure token)"}

      `task id` is a unique identifier for the session.
      `secure token` is the token to authorize access to the task.

    Optional toplevel attributes:

      {"memory_limit":(memory limit)}
      {"disk_limit":(memory limit)}

      `memory limit` is the memory limit for the container, in megabytes.
      `disk limit` is the disk quota for the container, in megabytes.

      If either are omitted, there is no limit. For example, if memory is
      limited but not disk, there will be no disk limit, and vice versa.

  --------------------------------------------------

  PUB task.stop

    Terminate a task. This destroys the container and kicking everyone off.

    Payload: {"task":"(task id)"}

      `task id` is a unique identifier for the task.

  --------------------------------------------------

  SUB task.advertise

    Sent periodically to allow other components to discover the narc server.

    Payload: {
      "id": "(agent id)",
      "available_memory": (avail. memory),
      "available_disk": (avail. disk)
    }

      `agent id` is the unique identifier for the narc server.
      `available memory` is the remaining reservable memory for the server.
      `available disk` is the remaining reservable disk space for the server.
